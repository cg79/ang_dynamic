<!--nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn-->
<sh-context-menu #menu>
  <ng-template shContextMenuItem let-data (click)="toggleProp(node)">
    <div>
      Toggle Properties
    </div>
  </ng-template>
  <ng-template shContextMenuItem let-data (click)="toggleActions(node)">
    <div>
      Toggle Actions
    </div>
  </ng-template>
  <ng-template shContextMenuItem let-data (click)="moveUpNode(node)">
    <div>
      Move Up
    </div>
  </ng-template>
  <ng-template shContextMenuItem let-data (click)="moveDownNode(node)">
    <div>
      Move Down
    </div>
  </ng-template>
  <ng-template shContextMenuItem let-data (click)="cutNode(node)">
    <div>
      Cut
    </div>
  </ng-template>
  <ng-template shContextMenuItem let-data (click)="copyNode(node)">
    <div>
      Copy
    </div>
  </ng-template>
  <ng-template shContextMenuItem let-data (click)="pasteNode(node)">
    <div>
      Paste
    </div>
  </ng-template>
  <ng-template shContextMenuItem let-data (click)="deleteNode(node)">
    <div>
      Delete
    </div>
  </ng-template>
</sh-context-menu>

<ul *ngFor="let o of node | keysToArray" class="browser-default">


<!--<pre>{{o | json}}</pre>-->
  <li *ngIf="o.key == 'type'"   >

    <ul>
      <li>
        <div class="row"   >

          <div class="col">

            <div class="row">
              <div class="col">
                <span [ngClass]="getClases(node)">&nbsp;</span>
              </div>

              <div class="col"
                   (click)="titleClick(node)"
                   (drop)="onDrop($event, dropData)" (dragover)="allowDrop($event)"
                   [shAttachMenu]="menu" [shMenuData]="node"
              >
                {{o.value}} {{node.key}}
              </div>
              <!--<div class="col">-->
                <!--<span (click)="moveUpNode(node)">move up</span>-->
              <!--</div>-->
              <!--<div class="col">-->
                <!--<span (click)="moveDownNode(node)">move down</span>-->
              <!--</div>-->
              <!--<div class="col">-->
                <!--<span (click)="deleteNode(node)">delete</span>-->
              <!--</div>-->
              <!--<div class="col">-->
                <!--<span (click)="cutNode(node)">cut</span>-->
              <!--</div>-->
              <!--<div class="col">-->
                <!--<span (click)="copyNode(node)">copy</span>-->
              <!--</div>-->
              <!--<div class="col">-->
                <!--<span (click)="pasteNode(node)">paste</span>-->
              <!--</div>-->

              <!--<app-actionnode [node]="node"></app-actionnode>-->

              </div>
          </div>

          <div class="col" >

            <!--<span [ngClass]="getPropClases(node)">&nbsp;</span>-->
            <span
              [ngClass]="getPropClases(node)"
              (click)="toggleProp(node)"
                  (drop)="onDropAction($event, dropData)" (dragover)="allowDrop($event)"
            >Properties</span>
          </div>

          <!--<div class="col" >-->

            <!--<span [ngClass]="getPropClases(node)">&nbsp;</span>-->
            <!--<span-->
              <!--(click)="toggleActions(node)"-->
              <!--(drop)="onDropAction($event, dropData)" (dragover)="allowDrop($event)"-->
            <!--&gt;Actions</span>-->
          <!--</div>-->

          <div class="col" *ngIf="node.rowTemplate">
            <span [ngClass]="getTemplateClases(node)">&nbsp;</span>
            <span (click)="toggleRowTemplate(node)">Row Template</span>
          </div>

        </div>
      </li>


    </ul>

  </li>

  <ul>

    <!--<li *ngIf="o.key == 'actions' && node.showActions">-->
      <!--<ul *ngFor="let x of node.actions" class="browser-default">-->
        <!--<li>-->
          <!--<app-actionnode [node]="x"></app-actionnode>-->
        <!--</li>-->
      <!--</ul>-->
    <!--</li>-->


    <li *ngIf="node.prop">
      <!--<app-actionnode [node]="node"></app-actionnode>-->
      <!--<app-prop-designer [data]="o" [str]="'value'" [node]="node"></app-prop-designer>-->
      <!--<app-prop-designer [data]="o" [str]="'id'" [node]="node"></app-prop-designer>-->
      <!--<app-prop-designer [data]="o" [str]="'name'" [node]="node"></app-prop-designer>-->
      <!--<app-prop-designer [data]="o" [str]="'text'" [node]="node"></app-prop-designer>-->
      <!--<app-prop-designer [data]="o" [str]="'class'" [node]="node"></app-prop-designer>-->
      <!--<app-prop-designer [data]="o" [str]="'bindText'" [node]="node"></app-prop-designer>-->
      <!--<app-prop-designer [data]="o" [str]="'bindValue'" [node]="node"></app-prop-designer>-->
      <!--<app-prop-designer [data]="o" [str]="'checkedProperty'" [node]="node"></app-prop-designer>-->
      <!--<app-prop-designer [data]="o" [str]="'controlType'" [node]="node"></app-prop-designer>-->
      <!--<app-prop-designer [data]="o" [str]="'compType'" [node]="node"></app-prop-designer>-->

      <!--<div *ngIf="o.key == 'validation'">-->
        <!--<div class="row1">-->
          <!--<div class="col c1">-->
            <!--validation-->
          <!--</div>-->
          <!--<div class="col c1">-->
            <!--<ul *ngFor="let vProp of node.validation | keysToArray" class="browser-default">-->
              <!--<li>{{vProp.key}} <input type="text" [(ngModel)]="node.validation[vProp.key]"></li>-->
            <!--</ul>-->

          <!--</div>-->
        <!--</div>-->
      <!--</div>-->
    </li>




    <li *ngIf="node.showRowTemplate">
      <!--{{o.key}}-->
      <app-htmlnode  *ngIf="o.key == 'rowTemplate'" [node]="node.rowTemplate"></app-htmlnode>
    </li>

  </ul>


  <li *ngIf="node.expanded" >
    <ul *ngIf="o.key == 'children'" class="browser-default">
      <!--xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-->
      <!--{{o.value}}-->
        <app-htmlnode [node]=o.value></app-htmlnode>
    </ul>

    <ul *ngIf="o.key == 'childrens'" class="browser-default">
      <li *ngFor="let el of o.value">
        <app-htmlnode [node]=el></app-htmlnode>
      </li>
    </ul>

  </li>


</ul>



